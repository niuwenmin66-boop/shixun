理虚实一体化课程平台需求文档--虚拟演练部分

# 课程名称
新能源汽车动力系统与维护

# 页面布局
页面分五个一级tab，分别为：理论学习、虚拟演练、实训项目、学习档案、技能认证
四个一级菜单在顶部横排摆放，可点击切换，默认选中”理论学习“

## 学习档案 Tab

### 1. 页面整体架构

```plain
┌─────────────────────────────────────────────────────────────────────────┐
│  [理论学习] [虚拟演练] [实训项目] [学习档案] [技能认证]  ← 顶部一级Tab      │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                        学习概况数据区                            │   │
│  │     4-6个核心数据卡片，横向排列，展示关键学习指标                  │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                                                         │
│  ┌─────────────┐  ┌──────────────────────────────────────────────┐   │
│  │             │  │                                              │   │
│  │  图例与     │  │                                              │   │
│  │  筛选面板    │  │          技能掌握情况图谱区                    │   │
│  │  (左侧边栏)  │  │                                              │   │
│  │             │  │     力导向图/径向树图可视化                    │   │
│  │  · 已掌握    │  │     节点=技能点，连线=依赖关系                 │   │
│  │  · 掌握良好  │  │     支持缩放、拖拽、点击查看                   │   │
│  │  · 一般弱项  │  │                                              │   │
│  │  · 严重弱项  │  │                                              │   │
│  │  · 未学习    │  │                                              │   │
│  │             │  │                                              │   │
│  └─────────────┘  └──────────────────────────────────────────────┘   │
│                              ↓ 点击节点触发 ↓                          │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                     右侧抽屉详情面板                             │   │
│  │     从右侧滑入，宽度480px，遮罩层，点击遮罩或X关闭               │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

------

### 2. 学习概况数据区（顶部）

#### 数据卡片设计（6个核心指标）

| 卡片名称         | 数据值 | 单位 | 趋势标识 | 说明                  |
| :--------------- | :----- | :--- | :------- | :-------------------- |
| **累计学习时长** | 128    | 小时 | ↑ 12%    | 所有模块学习时长总和  |
| **完成任务数**   | 24     | 个   | ↑ 3      | 已完成理论+虚仿+实训  |
| **技能掌握率**   | 68     | %    | ↑ 5%     | 已掌握技能点/总技能点 |
| **实训完成度**   | 15/20  | 次   | —        | 实际动手操作次数      |
| **连续学习天数** | 12     | 天   | 🔥        | 连续登录学习天        |

#### 数据卡片UI规范

```plain
┌────────────────────────┐
│  [图标]  累计学习时长    │
│                        │
│      128小时           │
│      ↑ 较上周12%       │
│                        │
│  [迷你趋势图/进度环]    │
└────────────────────────┘
```

------

### 3. 技能掌握情况图谱区（核心内容）

#### 3.1 技能图谱数据结构

**5大技能域（一级节点）**：

1. **动力电池技术**（紫色中心节点）
2. **电驱动技术**（蓝色中心节点）
3. **电控网络技术**（蓝色中心节点）
4. **充电技术**（绿色中心节点）
5. **热管理技术**（绿色中心节点）

**技能层级**：3层结构

- L1（中心）：技能域（5个）
- L2（分支）：技能模块（每个域3-4个，共18个）
- L3（叶子）：技能点（每个模块3-5个，共72个）

#### 3.2 技能点状态颜色定义

| 状态         | 颜色值 | RGB       | 含义                         | 判定标准           |
| :----------- | :----- | :-------- | :--------------------------- | :----------------- |
| **已精通**   | 深紫   | `#722ed1` | 完全掌握，可独立解决复杂问题 | 测评≥90分+实操优秀 |
| **已掌握**   | 蓝色   | `#1890ff` | 基本掌握，可独立完成常规任务 | 测评≥75分          |
| **一般弱项** | 黄色   | `#faad14` | 部分掌握，需巩固练习         | 测评60-74分        |
| **严重弱项** | 红色   | `#f5222d` | 掌握较差，需重点学习         | 测评<60分          |
| **未学习**   | 灰色   | `#bfbfbf` | 尚未开始学习                 | 无学习记录         |

#### 3.3 图谱可视化规范

**布局方式**：力导向图（Force-Directed Graph）

- 中心节点固定，子节点自动分布
- 连线表示**前置依赖关系**（实线=强依赖，虚线=弱依赖）
- 节点大小表示**重要性权重**（核心技能点更大）

**交互行为**：

| 操作         | 响应                                     |
| :----------- | :--------------------------------------- |
| 鼠标悬停节点 | 高亮该节点+关联路径，显示技能名称Tooltip |
| 点击节点     | 打开右侧抽屉，展示详情                   |
| 滚轮缩放     | 图谱整体放大/缩小（0.5x-3x）             |
| 空白处拖拽   | 平移整个图谱视图                         |
| 双击空白处   | 重置视图到初始状态                       |
| 图例点击     | 筛选显示/隐藏对应状态节点                |

------

### 4. 右侧抽屉详情面板

抽屉从右侧滑入，宽度480px，高度100%，带遮罩层。

#### 4.1 面板结构

```plain
┌─────────────────────────────────────────┐
│  X  动力电池系统故障诊断                    │  ← 顶部标题栏，可关闭
├─────────────────────────────────────────┤
│                                         │
│  ┌─────────────────────────────────┐   │
│  │     技能掌握程度仪表盘            │   │
│  │      [圆形进度图 78%]            │   │
│  │      状态：已掌握 [蓝色标签]       │   │
│  └─────────────────────────────────┘   │
│                                         │
│  技能介绍                               │
│  ─────────────────────────────────────  │
│  本技能涵盖动力电池常见故障现象识别、      │
│  诊断流程执行及维修方案制定。包括绝缘故障、  │
│  电压不均衡、热管理系统故障等典型场景...    │
│                                         │
│  学习目标                               │
│  ─────────────────────────────────────  │
│  □ 1. 识别3种以上电池故障警示灯含义        │
│  □ 2. 掌握绝缘电阻检测标准流程            │
│  □ 3. 完成BMS故障码读取与清除操作         │
│  ☑ 4. 制定电池包维修安全规范              │
│                                         │
│  关联技能                               │
│  ─────────────────────────────────────  │
│  [动力电池结构认知] → [电池管理系统] →    │
│  [高压安全操作]                          │
│  （点击可跳转对应节点）                    │
│                                         │
│  AI评估掌握程度                          │
│  ─────────────────────────────────────  │
│  理论测评：82分  [███████░░░]            │
│  虚仿操作：85分  [███████░░░]            │
│  实训练习：待完成 [░░░░░░░░░]             │
│  综合诊断：该技能掌握良好，建议加强...      │
│                                         │
│  AI推荐学习资源                          │
│  ─────────────────────────────────────  │
│  ┌─────────────────────────────────┐   │
│  │ [视频缩略图] 电池故障案例分析      │   │
│  │ 时长:15分钟  匹配度:95%  [开始学习] │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │ [虚仿图标]  电池包拆装虚拟仿真     │   │
│  │ 预计:30分钟  匹配度:88%  [开始演练] │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │ [文档图标]  维修手册-故障诊断章节  │   │
│  │ 页数:12页   匹配度:82%  [查看文档] │   │
│  └─────────────────────────────────┘   │
│                                         │
│  ┌─────────────────────────────────┐   │
│  │      [ 进入专项训练 ]            │   │  ← 底部主按钮
│  └─────────────────────────────────┘   │
│                                         │
└─────────────────────────────────────────┘
```

#### 4.2 抽屉内容详细字段

**基础信息区**：

- 技能名称（大标题）
- 所属技能域（面包屑：动力电池技术 > 故障诊断）
- 掌握程度徽章（圆形仪表盘 + 文字状态）

**技能介绍**：

- 2-3行文字描述该技能实际应用场景
- 关键能力关键词标签（如：故障诊断、安全操作、数据分析）

**学习目标（可勾选）**：

- 3-5个具体可衡量的目标
- 已完成目标打勾显示
- 未完成目标待解锁

**关联技能网络**：

- 前置技能（学习本技能前建议掌握）
- 后续技能（掌握后可进阶学习）
- 关联技能（平行扩展技能）
- 点击关联技能节点，抽屉内容切换至该技能

**AI评估详情**：

- 多维度雷达图（理论/虚仿/实训/考试）
- 各维度具体得分
- AI诊断结论（自然语言描述当前水平和薄弱环节）

**AI推荐资源**：

- 3-5个推荐资源卡片
- 每个资源显示：类型图标、名称、时长/页数、匹配度百分比
- 资源类型：视频课程、虚拟仿真、实训任务、文档资料、测试题
- 点击直接跳转对应学习页面

------

### 5. 左侧图例与筛选面板

```plain
┌─────────────────┐
│   技能掌握情况    │
│   ─────────────  │
│                 │
│  图例说明        │
│  ● 已精通  12个  │
│  ● 已掌握  28个  │
│  ● 一般弱项 8个  │
│  ● 严重弱项 4个  │
│  ○ 未学习  20个  │
│                 │
│  ─────────────  │
│  筛选显示        │
│  ☑ 已精通       │
│  ☑ 已掌握       │
│  ☑ 一般弱项     │
│  ☑ 严重弱项     │
│  ☐ 未学习       │
│                 │
│  ─────────────  │
│  快速定位        │
│  [动力电池▼]    │
│  [故障诊断▼]    │
│  [前往]         │
│                 │
│  ─────────────  │
│  图谱操作        │
│  [放大] [缩小]  │
│  [重置] [全屏]  │
│                 │
└─────────────────┘
```

------

### 6. 数据模拟（Demo用）

#### 6.1 学习概况数据（静态JSON）

```json
{
  "totalStudyTime": 128,
  "completedCourses": 24,
  "skillMasteryRate": 68,
  "practicalCompletion": "15/20",
  "continuousDays": 12
}
```

#### 6.2 技能节点数据示例（72个技能点中的5个示例）

| 节点ID    | 名称             | 所属域   | 层级 | 状态     | 得分 | 前置节点  |
| :-------- | :--------------- | :------- | :--- | :------- | :--- | :-------- |
| skill-001 | 动力电池结构认知 | 动力电池 | L2   | 已精通   | 95   | —         |
| skill-002 | 电池管理系统原理 | 动力电池 | L2   | 已掌握   | 82   | skill-001 |
| skill-003 | 电池故障诊断     | 动力电池 | L3   | 已掌握   | 78   | skill-002 |
| skill-004 | 电机控制器调试   | 电驱动   | L3   | 一般弱项 | 65   | skill-005 |
| skill-005 | 永磁同步电机原理 | 电驱动   | L2   | 已掌握   | 80   | —         |

------

### 7. 交互流程图

```plain
用户进入学习档案页
    ↓
加载学习概况数据卡片（动画数字增长效果）
    ↓
初始化技能图谱（力导向图布局动画）
    ↓
用户操作分支：
    ├─ 悬停节点 → 高亮路径+Tooltip
    ├─ 点击节点 → 打开右侧抽屉
    │              ├─ 查看技能详情
    │              ├─ 点击关联技能 → 切换抽屉内容
    │              ├─ 点击推荐资源 → 跳转学习页
    │              └─ 关闭抽屉 → 返回图谱
    ├─ 缩放/拖拽图谱 → 调整视图
    └─ 筛选图例 → 动态显示/隐藏节点
```

------

### 8. 技术实现建议（前端）

| 模块       | 推荐方案                              | 说明                         |
| :--------- | :------------------------------------ | :--------------------------- |
| 图谱可视化 | D3.js / ECharts Graph / AntV G6       | 力导向图布局，支持大规模节点 |
| 抽屉组件   | Ant Design Drawer / Element UI Drawer | 右侧滑入，支持异步加载内容   |
| 仪表盘     | ECharts Gauge / 自定义SVG             | 圆形进度指示                 |
| 动画效果   | Framer Motion / GSAP                  | 数字增长、节点动画           |
| 响应式     | CSS Grid + Flexbox                    | 适配不同屏幕尺寸             |

------

### 9. 与虚拟演练Tab的关联

**数据联动**：

- 虚拟演练中的5个资源完成情况 → 影响技能图谱中对应节点状态
- 例如：完成"动力电池系统虚拟仿真" → skill-001状态变为"已精通"

**页面跳转**：

- 学习档案中点击"电池故障诊断"技能 → 可跳转虚拟演练Tab的对应资源
- 虚拟演练中完成学习 → 返回学习档案自动刷新节点状态