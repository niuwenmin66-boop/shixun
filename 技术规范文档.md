# 一、文档目的

本文档用于规范基于 **Vibe Coding（AI 辅助/对话式编程）** 的纯前端页面开发方式，指导开发者在**无后端或极轻后端依赖**的前提下，完成《新能源汽车动力系统与维护理虚实一体化课程平台》前端页面的实现。文档重点约束：
- 技术选型
- 目录与组件结构
- 页面渲染与交互规范
- AI 能力接入方式（仅前端调用）
- Vibe Coding 的开发流程与约束


# 二、总体技术原则

## 2.1 纯前端原则

- **不依赖自建后端服务**
- 所有页面状态、内容结构、交互逻辑均在前端完成
- 数据来源分为：
  - 本地静态 JSON / TS 文件
  - 前端直接调用第三方 API（如 Kimi）

## 2.2 Vibe Coding 原则

- 开发过程以 **“描述 → 生成 → 微调”** 为主
- 不追求一次性完美代码，而是通过 AI 快速生成可运行版本
- 人工负责：
  - 结构合理性
  - 可维护性
  - 关键交互和边界控制


# 三、技术栈规范

## 3.1 基础技术栈

| 类型 | 技术选型 |
|----|----|
| 框架 | React 18 |
| 构建工具 | Vite |
| 语言 | TypeScript |
| 样式 | Tailwind CSS |
| 路由 | React Router |
| 状态管理 | Zustand（轻量） |
| UI 组件 | Headless UI / 自定义 |

> 禁止使用重量级框架（如 Next.js、Redux 全家桶）。


## 3.2 目录结构规范

```
src/
 ├─ assets/            # 图片、图标
 ├─ data/              # 静态数据（目录、实训步骤等 JSON）
 ├─ components/        # 通用组件
 │   ├─ Layout/
 │   ├─ Tabs/
 │   ├─ Sidebar/
 │   ├─ StepBlock/
 │   ├─ ImagePreview/
 │   └─ AIChat/
 ├─ pages/
 │   ├─ Theory/
 │   ├─ Virtual/
 │   ├─ Practice/
 │   └─ Certification/
 ├─ services/
 │   └─ ai.ts          # AI 调用封装
 ├─ store/             # Zustand 状态
 ├─ styles/
 └─ main.tsx
```


# 四、页面级技术规范

## 4.1 顶部一级 Tab

- 固定在页面顶部
- 四个 Tab：
  - 理论学习（默认）
  - 虚拟演练
  - 实训项目
  - 技能认证
- Tab 切换为**前端状态切换，不刷新页面**


## 4.2 理论学习页面布局

### 布局结构

```
| 左侧目录 | 中间内容区 | 右侧 AI 助手 |
```

- 左侧：固定宽度，可滚动
- 中间：主内容滚动区域
- 右侧：固定宽度，AI 对话区


### 左侧目录技术规范

- 数据来源：`data/catalog.json`
- 目录支持：
  - 项目 / 任务 两级结构
  - 当前选中态高亮
- 点击仅更新中间内容区


### 实训指导书内容区

#### 内容组织方式

- 标题、介绍、技能点、步骤均为 **结构化数据渲染**
- 禁止直接写死 HTML

示例数据结构：

```
{
  "title": "交流异步电机拆卸实训",
  "duration": "90min",
  "steps": [
    {
      "level": 1,
      "title": "三相线束连接器拆卸",
      "children": [...]
    }
  ]
}
```


### 图片交互规范

- 所有图片支持点击放大
- 放大方式：前端 Modal
- 禁止跳转新页面


# 五、AI 实训小助手技术规范

## 5.1 前端直连模式

- 不通过后端转发
- API Key 存储在：
  - `.env.local`
  - 仅用于演示环境


## 5.2 Kimi 调用封装

- 统一在 `services/ai.ts` 中封装
- 支持：
  - 流式输出（stream）
  - 温度、max_tokens 可配置


## 5.3 聊天组件规范

- 固定欢迎语
- 消息类型：user / assistant
- 支持滚动自动到底
- 不保存历史到后端


# 六、虚仿演练 / 实训项目 Tab

## 6.1 资源卡片规范

- 卡片结构：
  - 封面图
  - 标题
- 虚仿演练：
  - 仅第 5 个资源可点击跳转
- 实训项目：
  - 所有卡片不可点击


## 6.2 跳转规则

- 新窗口打开外部虚仿链接
- 使用 `target=_blank`


# 七、Vibe Coding 开发流程规范

## 7.1 推荐开发流程

1. 用自然语言描述组件或页面
2. 让 AI 生成初始代码
3. 人工调整：
   - 拆分组件
   - 提取配置
   - 删除冗余逻辑
4. 再次让 AI 优化局部


## 7.2 禁止事项

- 不允许 AI 生成整站一次性代码
- 不允许复制未经理解的复杂状态逻辑
- 不允许在组件内硬编码大量文本内容


# 八、性能与可维护性要求

- 单页面首屏加载 < 2s
- 图片懒加载
- 组件粒度不超过 300 行
- 数据与 UI 分离


# 九、交付物规范

- 可本地直接 `npm run dev` 启动
- README 说明页面结构与 AI Key 配置方式
- 所有页面无需后端即可完整演示


—— 技术规范完 ——

